<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="layout/default_layout" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
	<title>왓비</title>
	<meta charset="UTF-8">

</head>
<th:block layout:fragment="content">

	<body>
		<div class="main list">
			<!-- <section class="section_info bg-white"> -->
			<section class="bg-white">
				<!-- <p th:if="${not #strings.isEmpty(reservations.id)}"></p> -->
				<div th:if="${reservations == null or reservations.size() == 0}">
					<p>내역없음??</p>
				</div>

				<div th:unless="${#lists.isEmpty(reservations)}">
					<p th:text="${#authentication.getPrincipal()?.getUsername()}">님은</p>
					<p th:text="${reservations.size()}"></p>
					<p>예약하셨고,</p>
					<!-- <p>결제하셨어요.</p> -->
					<table>
						<colgroup>
							<col style="width:8%">
							<col style="width:20%">
							<col style="width:20%">
							<col style="width:20%">
							<col style="width:10%">
							<col style="width:20%">
						</colgroup>
						<thead>
							<tr>
								<th>번호</th>
								<th>예약정보</th>
								<th>주문일자</th>
								<th>주문번호</th>
								<th>결제금액</th>
								<th>주문상태</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="reservation : ${reservations}">
								<td th:text="${reservation.id}"></td>
								<td>
									<div>
										<ul>
											<li th:text="${reservation.reservationDate}"></li>
											<li th:text="${reservation.reservationTime}"></li>
											<li th:text="${reservation.usageTime}"></li>
											<li th:text="${reservation.guestCount}"></li>
										</ul>
									</div>
								</td>
								<td th:text="${reservation.created}"></td>
								<td th:text="${reservation.merchantUid}"></td>
								<td th:text="${reservation.amount}"></td>
								<td>
									<div style="display: flex;">
										<ul>
											<li style="display: inline-block;" th:text="${reservation.payments.status}">
											</li>
											<li style="display: inline-block;"><button>예약 취소</button></li>
										</ul>
									</div>
								</td>
							</tr>
						</tbody>
					</table>
					<!-- <div style="display: flex; align-items: center; margin-bottom: 10px; text-align: center;">
						<p style="flex: 1;">번호</p>
						<p style="flex: 6;">예약정보</p>
						<p style="flex: 4;">주문일자</p>
						<p style="flex: 3;">주문번호</p>
						<p style="flex: 2;">결제금액</p>
						<p style="flex: 4;">주문상태</p>
					</div>
					<ul style="padding: 0;">
						<li th:each="reservation : ${reservations}">
							<div style="display: flex;">
								<p th:text="${reservation.id}" style="flex: 1;"></p>
								<p th:text="${reservation.reservationDate}" style="flex: 2;"></p>
								<p th:text="${reservation.reservationTime + '시'}" style="flex: 2;"></p>
								<p th:text="${reservation.usageTime + '시간'}" style="flex: 1;"></p>
								<p th:text="${reservation.guestCount +'명'}" style="flex: 1;"></p>
								<p th:text="${reservation.created}" style="flex: 4;"></p>
								<p th:text="${reservation.merchantUid}" style="flex: 3;"></p>
								<p th:text="${reservation.amount + '원'}" style="flex: 2;"></p>
								<p th:text="${reservation.payments.status}" style="flex: 2;"></p>
								<button>예약 취소</button>
							</div>
						</li>
					</ul> -->
				</div>

			</section>
		</div>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
			crossorigin="anonymous"></script>
	</body>
</th:block>

</html>